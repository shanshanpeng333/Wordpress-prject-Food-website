jQuery(document).ready(function(e){"use strict";if(e("ul.hybridextend-control-sortlist").each(function(){var t=e(this),n=t.data("openstate"),i=t.children("li"),o=i.children(".hybridextend-sortlistitem-head"),a=o.children(".sortlistitem-display"),d=i.children(".hybridextend-sortlistitem-options");o.on("click",function(t){e(this).children(".sortlistitem-expand").toggleClass("options-open"),e(this).siblings(".hybridextend-sortlistitem-options").slideToggle("fast")}),n?"all"!=n&&(d.hide(),i.filter('[data-choiceid="'+n+'"]').children(".hybridextend-sortlistitem-head").click()):d.hide(),a.on("click",function(t){t.stopPropagation();var n=e(this).closest("li.hybridextend-control-sortlistitem");n.toggleClass("deactivated");var i=n.is(".deactivated")?"1":"0";e(this).siblings("input.hybridextend-control-sortlistitem-hide").val(i).trigger("change")});var l=t.find("input, textarea, select"),r=t.siblings("input.hybridextend-customize-control-sortlist"),c=function(){l=t.find("input, textarea, select"),r.val(l.serialize()).trigger("change")};l.on("change",c),t.is(".sortable")&&t.sortable({handle:".sortlistitem-sort",placeholder:"hybridextend-control-sortlistitem-placeholder",update:function(e,t){c()},forcePlaceholderSize:!0})}),e(".customize-control-radioimage, .hybridextend-sortlistitem-option-radioimage").each(function(){var t=e(this).find("input"),n=e(this).find(".hybridextend-customize-radioimage");t.on("change",function(){n.removeClass("radiocheck"),e(this).parent(".hybridextend-customize-radioimage").addClass("radiocheck")})}),"undefined"!=typeof _hybridextend_customize_data&&"undefined"!=typeof _hybridextend_customize_data.iconslist){var t=e("body"),n=e("#hybridextend-flyicon-content");t.on("openflypanel",function(){var i=t.data("flypanelbutton");if(i&&"icon"==i.data("flypaneltype")&&"open"==i.data("flypanel")){n.html(_hybridextend_customize_data.iconslist).data("controlgroup",i);var o=n.find("i"),a=i.siblings("input.hybridextend-customize-control-icon"),d=a.val(),l=i.children("i");i.addClass("flygroup-open"),d&&n.find("i."+d.replace(" ",".")).addClass("selected"),o.click(function(t){var n=e(this).data("value");o.removeClass("selected"),e(this).addClass("selected"),a.val(n).trigger("change"),l.removeClass().addClass(n),e(".hybridextend-flypanel-back").trigger("click")}),t.addClass("hybridextend-displaying-flyicon"),t.data("flypaneltype","icon")}}),t.on("closeflypanel",function(){t.removeClass("hybridextend-displaying-flyicon");var i=n.data("controlgroup");i&&e(i).removeClass("flygroup-open"),"icon"==t.data("flypaneltype")&&t.data("flypaneltype","")}),e(".hybridextend-customize-control-icon-remove").click(function(t){var n=e(this).siblings("input.hybridextend-customize-control-icon"),i=e(this).siblings(".hybridextend-customize-control-icon-picked").children("i");n.val("").trigger("change"),i.removeClass()})}e(".hybridextend-customize-control-groupstart").each(function(t){var n=e(this).attr("id"),i=e(this).nextUntil(".hybridextend-customize-control-groupend","li");i.addClass("hybridextend-customize-control-group-blocks").attr("data-controlgroup",n)});var t=e("body");t.on("openflypanel",function(){var n=t.data("flypanelbutton");if(n&&"group"==n.data("flypaneltype")&&"open"==n.data("flypanel")){var i=n.parent(".hybridextend-customize-control-groupstart");i.addClass("flygroup-open");var o=i.nextUntil(".hybridextend-customize-control-groupend","li");e("#hybridextend-flygroup-content").html("").append(o).wrapInner("<ul></ul>"),t.addClass("hybridextend-displaying-flygroup"),t.data("flypaneltype","group")}}),t.on("closeflypanel",function(){t.removeClass("hybridextend-displaying-flygroup"),"group"==t.data("flypaneltype")&&(e("#hybridextend-flygroup-content > ul > li").each(function(){var t=e(this).data("controlgroup");e(this).insertBefore("#"+t+"-end"),e("#"+t).removeClass("flygroup-open")}),t.data("flypaneltype",""))}),e(".customize-control-bettercheckbox .bettercheckbox-multi").each(function(){var t=e(this),n=t.find('input[type="checkbox"]'),i=t.find('input[type="hidden"]');n.on("change",function(){var e=n.filter(":checked").map(function(){return this.value}).get().join(",");i.val(e).trigger("change")})}),e(".hybridextend-customize-control-betterbackgroundstart").each(function(t){var n=e(this).nextUntil(".hybridextend-customize-control-betterbackgroundend","li"),i=n.filter(".hybridextend-customize-control-betterbackgroundbutton"),o=i.find(".hybridextend-betterbackground-button"),a=i.find("input.hybridextend-customize-control-betterbackground"),d=n.filter(".customize-control-color, .customize-control-image, .customize-control-select"),l=n.filter(".customize-control-color, .hybridextend-customize-control-groupstart"),r=function(e){"predefined"==e&&(d.hide(),l.show()),"custom"==e&&(l.hide(),d.show())};n.addClass("hybridextend-customize-control-background-blocks"),i.length&&(n.hide(),n.filter(".hybridextend-customize-control-betterbackgroundbutton").show(),r(a.val()),o.on("click",function(){var t=e(this).data("value");o.removeClass("selected").addClass("deactive"),e(this).removeClass("deactive").addClass("selected"),a.val(t).trigger("change"),r(t)}));var c=n.find(".hybridextend-betterbackground-button-pattern"),s=n.find(".hybridextend-customize-radioimage");c.length&&(c.html("").append(s.filter(".radiocheck").children("img").clone()),s.on("click",function(){c.html("").append(e(this).children("img").clone())}))}),"undefined"!=typeof _hybridextend_customize_data&&"undefined"!=typeof _hybridextend_customize_data.bcomp&&"yes"==_hybridextend_customize_data.bcomp&&e("body").addClass("hybridextend-bcomp");var t=e("body"),i=e(".hybridextend-flypanel-button"),o=function(){i.click(function(n){"open"==t.data("flypanel")&&"open"==e(this).data("flypanel")?a():(a(),d(e(this))),n.stopPropagation()}),e(".hybridextend-flypanel-back").click(function(e){a(),e.stopPropagation()}),e(".hybridextend-flypanel").click(function(e){e.stopPropagation()}),t.click(function(t){e(t.target).closest(".media-modal").length||a()})},a=function(){t.data("flypanel","close"),t.data("flypanelbutton",""),i.data("flypanel","close"),t.trigger("closeflypanel")},d=function(e){t.data("flypanel","open"),t.data("flypanelbutton",e),e.data("flypanel","open"),t.trigger("openflypanel")};o()});